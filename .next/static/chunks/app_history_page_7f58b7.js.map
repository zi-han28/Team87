{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file://C%3A/Users/isaac/Desktop/isaac%20branch/app/history/page.js"],"sourcesContent":["\"use client\";\r\nimport React, { useEffect, useState } from 'react';\r\n\r\nexport default function HistoryPage() {\r\n  const [likedPosts, setLikedPosts] = useState([]);\r\n\r\n  // Define defaultPosts directly in the History page\r\n  const defaultPosts = [\r\n    {\r\n      id: 1,\r\n      title: \"What is Newton's law?\",\r\n      text: \"Newton's laws of motion are three fundamental principles...\",\r\n      liked: false,\r\n      likes: 100,\r\n      comments: [\r\n        \"Great explanation!\",\r\n        \"I learned a lot from this post.\",\r\n        \"Can you provide more examples?\"\r\n      ],\r\n      bookmarked: false\r\n    },\r\n    {\r\n      id: 2,\r\n      title: \"What is Law of Demand?\",\r\n      text: \"The Law of Demand describes the relationship between price...\",\r\n      liked: false,\r\n      likes: 100,\r\n      comments: [\"Which component is the most important?\"],\r\n      bookmarked: false\r\n    },\r\n    {\r\n      id: 3,\r\n      title: \"What components make up a phone?\",\r\n      text: \"A phone consists of multiple components...\",\r\n      liked: false,\r\n      likes: 100,\r\n      comments: [\r\n        \"This is a very timely topic.\",\r\n        \"How did the pandemic affect the global economy?\"\r\n      ],\r\n      bookmarked: false\r\n    },\r\n    {\r\n      id: 4,\r\n      title: \"Which countries were most affected by COVID?\",\r\n      text: \"Many countries were...\",\r\n      liked: false,\r\n      likes: 169,\r\n      comments: [],\r\n      bookmarked: false\r\n    }\r\n  ];\r\n\r\n  // Function to load liked posts\r\n  // const loadLikedPosts = () => {\r\n  //   if (typeof window !== \"undefined\") {\r\n  //     const likedData = JSON.parse(localStorage.getItem('liked')) || {};\r\n  //     const posts = defaultPosts.map(post => ({\r\n  //       ...post,\r\n  //       likes: likedData[post.id] || false,\r\n  //       likes: likedData[post.id]?.likes || post.likes\r\n  //     }));\r\n\r\n  //     // Filter posts that have been liked\r\n  //     const likedPosts = posts.filter(post => post.liked);\r\n\r\n  //     // Sort liked posts in descending order by likes\r\n  //     const sortedLikedPosts = likedPosts.sort((a, b) => b.likes - a.likes);\r\n\r\n  //     setLikedPosts(sortedLikedPosts);\r\n  //   }\r\n  // };\r\n\r\n  // const loadLikedPosts = () => {\r\n  //   if (typeof window !== \"undefined\") {\r\n  //     const likedData = JSON.parse(localStorage.getItem('liked')) || {};\r\n      \r\n  //     const posts = defaultPosts.map(post => ({\r\n  //       ...post,\r\n  //       liked: likedData[post.id]?.liked || false,\r\n  //       likes: likedData[post.id]?.likes || post.likes // Load updated likes count\r\n  //     }));\r\n  \r\n  //     const likedPosts = posts.filter(post => post.liked);\r\n  //     setLikedPosts(likedPosts.sort((a, b) => b.likes - a.likes));\r\n  //   }\r\n  // };\r\n\r\n  const loadLikedPosts = () => {\r\n    const savedLikes = JSON.parse(localStorage.getItem('likesData')) || {};\r\n    const likedPosts = defaultPosts\r\n      .map(post => ({\r\n        ...post,\r\n        liked: savedLikes[post.id]?.liked || false,\r\n        likes: savedLikes[post.id]?.likes ?? post.likes, // Keep updated likes count\r\n      }))\r\n      .filter(post => post.liked);\r\n  \r\n    setLikedPosts(likedPosts);\r\n  };\r\n  \r\n\r\n  // Load liked posts on mount\r\n  useEffect(() => {\r\n    loadLikedPosts();\r\n  }, []);\r\n\r\n  // Listen for custom event to reload liked posts\r\n  useEffect(() => {\r\n    const handleLikedStateChange = () => {\r\n      if (typeof window !== \"undefined\") {\r\n        loadLikedPosts();\r\n        const savedPosts = JSON.parse(localStorage.getItem('posts')) || defaultPosts;\r\n\r\n  \r\n        // Filter posts that have been liked\r\n        const liked = savedPosts.filter(post => post.liked);\r\n  \r\n        // Sort liked posts in descending order by likes\r\n        const sortedLikedPosts = liked.sort((a, b) => b.likes - a.likes);\r\n  \r\n        setLikedPosts(sortedLikedPosts);\r\n      }\r\n    };\r\n  \r\n    window.addEventListener('likedStateChanged', handleLikedStateChange);\r\n  \r\n    return () => {\r\n      window.removeEventListener('likedStateChanged', handleLikedStateChange);\r\n    };\r\n  }, []);\r\n\r\n  return (\r\n    <div className=\"flex flex-col items-center min-h-screen text-white p-6\">\r\n      <h1 className=\"text-3xl font-bold mb-8\">Liked Posts History</h1>\r\n      <div className=\"w-4/5 space-y-4\">\r\n        {likedPosts.length > 0 ? (\r\n          likedPosts.map(post => (\r\n            <div key={post.id} className=\"p-4 border border-gray-400 rounded-lg bg-gray-900\">\r\n              <h3 className=\"font-semibold\">{post.title}</h3>\r\n              <p className=\"text-sm\">{post.text}</p>\r\n              <div className=\"flex space-x-2 mt-2\">\r\n                <button className={`px-4 py-2 rounded-lg text-white ${post.liked ? 'bg-red-500' : 'bg-blue-500'}`}>\r\n                  {post.liked ? 'Unlike üëé' : 'Like üëç'} ({post.likes})\r\n                </button>\r\n                <button className=\"bg-yellow-500 px-4 py-2 rounded-lg text-white\">\r\n                  üí¨ Comment ({post.comments.length})\r\n                </button>\r\n                <button className=\"bg-gray-600 px-4 py-2 rounded-lg text-white\">\r\n                  üîó Share\r\n                </button>\r\n                <button className={`px-4 py-2 rounded-lg text-white ${post.bookmarked ? 'bg-purple-500' : 'bg-gray-500'}`}>\r\n                  {post.bookmarked ? 'Unbookmark ‚ùå' : 'Bookmark üìå'}\r\n                </button>\r\n              </div>\r\n            </div>\r\n          ))\r\n        ) : (\r\n          <p>No liked posts found.</p>\r\n        )}\r\n      </div>\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":"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"}},
    {"offset": {"line": 251, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}